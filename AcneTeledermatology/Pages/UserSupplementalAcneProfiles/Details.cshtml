@page
@model AcneTeledermatology.Pages.UserSupplementalAcneProfiles.DetailsModel
@using System.Security.Claims
@using Microsoft.AspNetCore.Identity


@{
    ViewData["Title"] = "Details";
    var isDermQueryParam = HttpContext.Request.Query["isDerm"];
    var idUserDermRequest = HttpContext.Request.Query["idudr"];
    var isComingFromWhere = HttpContext.Request.Query["comingFrom"];
    var idDermRequestForReAssessment = HttpContext.Request.Query["idDermRequestForReAssessment"];

    if (isDermQueryParam == "true")
    {
        Layout = "_DermLayout";
    }
    if (isDermQueryParam == "false")
    {
        Layout = "_PatientLayout";
    }
}

@if (isDermQueryParam == "false")
{
    <h1>Details of your current supplemental acne profile. Are these information correct?</h1>
<a class="nav-link text-dark" asp-area="" asp-page="/UserAssessments/Index" asp-route-AutomaticCreate="true" asp-route-uid="@User.FindFirstValue(ClaimTypes.NameIdentifier)">Yes, proceed to assess acne</a>
}
<div>
    <h4>UserSupplementalAcneProfile</h4>
    <hr />
    <dl class="row">
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.UserSupplementalAcneProfile.User)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.UserSupplementalAcneProfile.User.Id)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.UserSupplementalAcneProfile.SleepingPattern)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.UserSupplementalAcneProfile.SleepingPattern)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.UserSupplementalAcneProfile.SunblockHabit)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.UserSupplementalAcneProfile.SunblockHabit)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.UserSupplementalAcneProfile.DietHabit)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.UserSupplementalAcneProfile.DietHabit)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.UserSupplementalAcneProfile.SkincareProducts)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.UserSupplementalAcneProfile.SkincareProducts)
        </dd>
        <dt class="col-sm-2">
            @Html.DisplayNameFor(model => model.UserSupplementalAcneProfile.SunExposure)
        </dt>
        <dd class="col-sm-10">
            @Html.DisplayFor(model => model.UserSupplementalAcneProfile.SunExposure)
        </dd>
    </dl>
</div>
<div>

    @if (isDermQueryParam == "false")
{
    <text>
    <a asp-page="./Edit" asp-route-id="@Model.UserSupplementalAcneProfile?.IDUserSupplementalAcneProfile">Edit</a> |
    <a asp-page="./Index">Back to List</a>
    </text>

}

@* Pigi UserAssessments/Index tengok patient punya acne severity *@

    @if (isDermQueryParam == "true")
    {
        @if (isComingFromWhere == "uddr_index")
        {


            <text>
                <a class="nav-link text-dark" asp-area="" asp-page="/UserAssessments/Index"
               asp-route-AutomaticCreate="true"
               asp-route-uid="@Model.UserSupplementalAcneProfile?.Id"
               asp-route-isDerm="true"
               asp-route-idudr=@idUserDermRequest
               asp-route-comingFrom="@isComingFromWhere"
                   asp-route-idDermRequestForReAssessment="@idDermRequestForReAssessment">
                Next: View patient's acne severity assessment
                
                
            </a>

        </text>
        }

        @if (isComingFromWhere != "uddr_index")
        {


            <text>
                <a class="nav-link text-dark" asp-area="" asp-page="/UserAssessments/Index"
                   asp-route-AutomaticCreate="true"
                   asp-route-uid="@Model.UserSupplementalAcneProfile?.Id"
                   asp-route-isDerm="true"
                   asp-route-idudr=@idUserDermRequest
                   >
                    Next: View patient's acne severity assessment


                </a>

            </text>
        }
    }


</div>
